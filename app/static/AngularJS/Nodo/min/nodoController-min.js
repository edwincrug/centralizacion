registrationModule.controller("nodoController",function(n,e,o,r,t,i,a){n.isLoading=!1,n.idProceso=1,n.perfil=1,window.frames.document.oncontextmenu=function(){return r.error("Función deshabilitada en digitalización."),!1};var c=function(n,e,o,t){$("#btnEnviar").button("reset"),r.error("Ocurrio un problema")};n.init=function(){u(getParameterByName("id"),n.idProceso,n.perfil)};var u=function(n,e,o){t.getAll(n,e,e).success(l).error(c)},l=function(e,o,r,t){n.listaNodos=e,n.numElements=e.length,s(),setTimeout(function(){$("ul#standard").roundabout({btnNext:".next",btnNextCallback:function(){d(".next")},btnPrev:".prev",btnPrevCallback:function(){d(".prev")},clickToFocusCallback:function(){d(".next")}}),f(n.currentPage)},1)},s=function(){n.currentPage=1},d=function(e){n.currentPage=$("ul#standard").roundabout("getChildInFocus")+1,0!=n.listaNodos[n.currentPage-1].enabled?f(n.currentPage):(r.warning("Nodo "+n.currentPage+" no disponible para su perfil."),$(e).click())};n.setPage=function(e,o){0!=o.enabled?(n.currentPage=e.currentTarget.innerText,f(n.currentPage)):r.warning("Nodo "+n.currentPage+" no disponible para su perfil.")};var f=function(e){$("ul#standard").roundabout("animateToChild",e-1),n.currentNode=n.listaNodos[e-1],g(),P()},g=function(){angular.forEach(n.listaNodos,function(e,o){o==n.currentPage-1?e.active=1:e.active=0}),N()},b=function(e,o,r,t){n.isLoading=!1,n.listaAlertas=e,N()},p=function(e,o,r,t){n.listaDocumentos=e,a.getByNodo(n.idProceso,n.currentNode.id,n.currentNode.folio).success(b).error(c)},P=function(){n.isLoading=!0,N(),i.getByNodo(n.currentNode.id,n.currentNode.folio,n.perfil).success(p).error(c)},N=function(){"$apply"!=n.$root.$$phase&&"$digest"!=n.$root.$$phase&&n.$apply()}});